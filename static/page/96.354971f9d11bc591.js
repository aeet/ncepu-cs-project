"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[96],{3096:(O,c,n)=>{n.r(c),n.d(c,{RoleModule:()=>x});var p=n(4715),d=n(9132),e=n(4650),a=n(2340),v=n(8989),g=n(7579),f=n(2722),y=n(5915),R=n(5156);let z=(()=>{class o{constructor(t,r){this.http=t,this.modal=r,this.destroy$=new g.x}createForm(t,r){let h={};const i=this.modal.create({nzTitle:"\u89d2\u8272\u7ba1\u7406",nzMask:!0,nzClosable:!0,nzMaskClosable:!0,nzContent:v.kJ,nzComponentParams:{button:null,formData:r},nzOnOk:()=>i.componentInstance?.validator({emitError:!0,onlyRoot:!1})?t(h):Promise.reject(!1)});i.componentInstance?.formValueChange.pipe((0,f.R)(this.destroy$)).subscribe(m=>{h=m.value}),i.componentInstance?.refreshSchema({properties:{role_name:{type:"string",ui:{i18n:"role_name",widget:"string"}},role_value:{type:"string",ui:{i18n:"role_value",widget:"string"}}}}),i.componentInstance?.reset()}query(){return this.http.get(`${a.N.path}/role`)}add(t){return this.http.post(`${a.N.path}/role`,t)}delete(t){return this.http.delete(`${a.N.path}/role/${t}`)}update(t){return this.http.put(`${a.N.path}/role`,t)}ngOnDestroy(){this.destroy$.complete()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(y.lP),e.LFG(R.Sf))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var C=n(2319),S=n(3596),M=n(6616),F=n(7044),T=n(1811),A=n(1971);function L(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.add())}),e._uU(1,"\u65b0\u5efa"),e.qZA()}}const N=[{path:"list",component:(()=>{class o{constructor(t){this.roleService=t,this.data=[],this.loading=!1,this.columns=[{title:"\u89d2\u8272\u540d\u79f0",type:"",index:"role_name"},{title:"\u89d2\u8272\u503c",type:"",index:"role_value"},{title:"",buttons:[{text:"\u7f16\u8f91",click:r=>{this.update(r)}},{text:"\u5220\u9664",click:r=>{this.delete(r.id)}}]}]}ngOnInit(){this.query()}query(){this.loading=!0,this.roleService.query().subscribe(t=>{this.data=t.body,this.loading=!1})}update(t){const r=t.id;this.roleService.createForm(s=>(s.id=r,this.roleService.update(s).toPromise().then(()=>{this.query()})),t)}add(){this.roleService.createForm(t=>this.roleService.add(t).toPromise().then(()=>{this.query()}),null)}delete(t){this.loading=!0,this.roleService.delete(t).subscribe(()=>{this.loading=!1,this.query()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-role-list"]],decls:6,vars:4,consts:[[3,"action"],["phActionTpl",""],[3,"data","loading","columns"],["st",""],["nz-button","","nzType","primary",3,"click"]],template:function(t,r){if(1&t&&(e.TgZ(0,"page-header",0),e.YNc(1,L,2,0,"ng-template",null,1,e.W1O),e.qZA(),e.TgZ(3,"nz-card"),e._UZ(4,"st",2,3),e.qZA()),2&t){const s=e.MAs(2);e.Q6J("action",s),e.xp6(4),e.Q6J("data",r.data)("loading",r.loading)("columns",r.columns)}},dependencies:[C.q,S.A5,M.ix,F.w,T.dQ,A.bd],encapsulation:2}),o})()}];let $=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(N),d.Bz]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.m8,$]}),o})()}}]);